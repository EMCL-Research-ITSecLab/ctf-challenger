<header>
    <div class="header-container">
        <div class="logo">
            <a href="/landing">CTF-Challenger</a>
        </div>
        <div class="menu-avatar-group">
            <!-- Login Button (shown when logged out) -->
            <div class="button-group">
                <a href="/login" id="login-btn" class="button button-secondary" style="display: none;">Login</a>
                <a href="/signup" id="signup-btn" class="button button-primary" style="display: none;">Get Started</a>
            </div>

            <nav id="main-nav" style="display: none;">
                <ul>
                    <!-- All navigation moved into dropdown -->
                    <li class="dropdown menu">
                        <button class="dropdown-toggle" aria-expanded="false">
                            <span class="menu-label">Menu</span>
                            <span class="caret">â–¾</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item-container">
                                <a href="/explore" class="dropdown-item">
                                    <svg class="dropdown-icon" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                                    </svg>
                                    Challenges
                                </a>
                            </li>
                            <li class="dropdown-item-container">
                                <a href="/dashboard" class="dropdown-item">
                                    <svg class="dropdown-icon" viewBox="0 0 24 24">
                                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                                    </svg>
                                    Dashboard
                                </a>
                            </li>
                            <li class="dropdown-item-container">
                                <a href="/profile" class="dropdown-item">
                                    <svg class="dropdown-icon" viewBox="0 0 24 24">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                    Profile
                                </a>
                            </li>
                            <li class="dropdown-item-container">
                                <a href="#" id="logout-link" class="dropdown-item logout-btn">
                                    <svg class="dropdown-icon" viewBox="0 0 24 24">
                                        <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                                    </svg>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <!-- Avatar (shown when logged in) -->
            <div class="avatar-container" id="avatar-container" style="display: none;">
                <img src="/assets/avatars/default-avatar.png" alt="Avatar" class="avatar-img" id="avatar-img"/>
            </div>
        </div>
    </div>
    <div class="theme-switch">
        <label class="switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider">
                <img class="icon moon" src="/assets/icons/moon.svg"/>
                <img class="icon sun" src="/assets/icons/sun.svg"/>
            </span>
        </label>
    </div>
    <script type="module" src="../assets/js/dropdown-menu.js"></script>
    <script type="module" src="../assets/js/logout.js"></script>
    <script type="module" src="../assets/js/header.js"></script>
    <script type="module" src="../assets/js/theme-toggle.js"></script>
</header>